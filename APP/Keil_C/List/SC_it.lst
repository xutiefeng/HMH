C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE SC_IT
OBJECT MODULE PLACED IN ..\Output\SC_it.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\User\SC_it.c LARGE OMF2 OPTIMIZE(0,SIZE) BROWSE INTVECTOR(0X1000) INC
                    -DIR(..\FWLib\SC95F_Lib\inc;..\User;..\IOT_DRIVER\XIAOMI;..\Drivers;..\Drivers\TKDriver\C;..\List\..\Apps;..\Apps) DEFINE
                    -(SC95F8x1xB) DEBUG PRINT(..\List\SC_it.lst) TABS(2) OBJECT(..\Output\SC_it.obj)

line level    source

   1          //************************************************************
   2          //  Copyright (c)   
   3          //  FileName    : SC_it.c
   4          //  Function    : Interrupt Service Routine
   5          //  Instructions  :  
   6          //  Date          : 2022/03/03
   7          //  Version     : V1.0002
   8          //*************************************************************
   9          /********************Includes************************************************************************/
  10          #include "SC_it.h"
  11          #include "..\Drivers\SCDriver_list.h"
  12          #include "HeadFiles\SC_itExtern.h"
  13          #include "..\Apps\includeall.h"
  14          /**************************************Generated by EasyCodeCube*************************************/
  15          //Forbid editing areas between the labels !!!
  16          
  17          /*************************************.Generated by EasyCodeCube.************************************/
  18          void INT0Interrupt()    interrupt 0       
  19          {
  20   1          TCON &= 0XFD;//Clear interrupt flag bit
  21   1          /*INT0_it write here begin*/
  22   1          //Forbid editing areas between the labels !!!
  23   1          /*INT0_it write here*/
  24   1          /*<Generated by EasyCodeCube begin>*/
  25   1          /*<Generated by EasyCodeCube end>*/
  26   1          /*INT0Interrupt Flag Clear begin*/
  27   1          //Forbid editing areas between the labels !!!
  28   1          /*INT0Interrupt Flag Clear end*/
  29   1      }
  30          void Timer0Interrupt()    interrupt 1        
  31          {
  32   1          /*TIM0_it write here begin*/
  33   1          //Forbid editing areas between the labels !!!
  34   1          TIM0_Mode1SetReloadCounter(33536);
  35   1          /*TIM0_it write here*/
  36   1          /*<Generated by EasyCodeCube begin>*/
  37   1          /*<UserCodeStart>*//*<SinOne-Tag><15>*/
  38   1          /***User program***/
  39   1          Systime_Count();
  40   1          RDSystickProcess();
*** WARNING C206 IN LINE 40 OF ..\User\SC_it.c: 'ADCollectProcess': missing function-prototype
  41   1          if(Ev5MSFlag)
  42   1            LED_sCan();
  43   1          /*<UserCodeEnd>*//*<SinOne-Tag><15>*/
  44   1          /*<Generated by EasyCodeCube end>*/
  45   1          /*Timer0Interrupt Flag Clear begin*/
  46   1          //Forbid editing areas between the labels !!!
  47   1          /*Timer0Interrupt Flag Clear end*/    
  48   1      }
  49          void INT1Interrupt()    interrupt 2   
  50          {
  51   1          TCON &= 0XF7;//Clear interrupt flag bit
  52   1          /*INT1_it write here begin*/
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 2   

  53   1          //Forbid editing areas between the labels !!!
  54   1          /*INT1_it write here*/
  55   1          /*<Generated by EasyCodeCube begin>*/
  56   1          /*<Generated by EasyCodeCube end>*/
  57   1          /*INT1Interrupt Flag Clear begin*/
  58   1          //Forbid editing areas between the labels !!!
  59   1          /*INT1Interrupt Flag Clear end*/          
  60   1      }
  61          void Timer1Interrupt()    interrupt 3   
  62          {
  63   1          /*TIM1_it write here begin*/
  64   1          //Forbid editing areas between the labels !!!
  65   1          /*TIM1_it write here*/
  66   1          /*<Generated by EasyCodeCube begin>*/
  67   1          /*<Generated by EasyCodeCube end>*/
  68   1          /*Timer1Interrupt Flag Clear begin*/
  69   1          //Forbid editing areas between the labels !!!
  70   1          /*Timer1Interrupt Flag Clear end*/    
  71   1      }
  72          #if defined (SC92F742x) || defined (SC92F7490)
              void SSI0Interrupt()    interrupt 4   
              {
                  /*SSI0_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI0_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSI0Interrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI0Interrupt Flag Clear end*/    
              }
              #elif  !defined ( SC92F827X)  &&  !defined (SC92F837X)
  85          #define        UART0_TX_LEN 7
  86          extern void    RDUART0_RcvByte(void);
  87          void UART0Interrupt()   interrupt 4   
  88          {
  89   1          static  u8 uartDataLen = 1;
  90   1          /*UART0_it write here begin*/
  91   1          //Forbid editing areas between the labels !!!
  92   1          /*UART0_it write here*/
  93   1          /*<Generated by EasyCodeCube begin>*/
  94   1          /*<Generated by EasyCodeCube end>*/
  95   1          /*UART0Interrupt Flag Clear begin*/
  96   1          //Forbid editing areas between the labels !!!
  97   1        
  98   1          if(TI)
  99   1          {
 100   2               UART0_ClearFlag(UART0_FLAG_TI);
 101   2               if(uartDataLen < UART0_TX_LEN)
 102   2               {
 103   3                    uartDataLen++;
 104   3                    SBUF = gSendData[uartDataLen].all;
 105   3               }
 106   2               else
 107   2               {
 108   3                  uartDataLen = 0;
 109   3               }
 110   2          }
 111   1          if(RI)
 112   1          {
 113   2              UART0_ClearFlag(UART0_FLAG_RI);
 114   2              RDUART0_RcvByte();
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 3   

 115   2          }
 116   1          
 117   1          
 118   1          /*UART0Interrupt Flag Clear end*/   
 119   1      }
 120          #endif
 121          void Timer2Interrupt()    interrupt 5   
 122          {
 123   1          /*TIM2_it write here begin*/
 124   1          //Forbid editing areas between the labels !!!
 125   1          /*TIM2_it write here*/
 126   1          /*<Generated by EasyCodeCube begin>*/
 127   1          /*<Generated by EasyCodeCube end>*/
 128   1          /*Timer2Interrupt Flag Clear begin*/
 129   1          //Forbid editing areas between the labels !!!
 130   1          /*Timer2Interrupt Flag Clear end*/    
 131   1      }
 132          void ADCInterrupt()     interrupt 6   
 133          {
 134   1          /*ADC_it write here begin*/
 135   1          //Forbid editing areas between the labels !!!
 136   1          /*ADC_it write here*/
 137   1          /*<Generated by EasyCodeCube begin>*/
 138   1          /*<Generated by EasyCodeCube end>*/
 139   1          /*ADCInterrupt Flag Clear begin*/
 140   1          //Forbid editing areas between the labels !!!
 141   1          ADC_ClearFlag();
 142   1          
 143   1          /*ADCInterrupt Flag Clear end*/   
 144   1      }
 145          #if defined (SC92F854x) || defined (SC92F754x) ||defined  (SC92F844xB) || defined (SC92F744xB)||defined  (
             -SC92F84Ax_2) || defined (SC92F74Ax_2)|| defined (SC92F846xB) || defined (SC92F746xB)\
 146          || defined (SC92F836xB) || defined (SC92F736xB) || defined (SC92F8003) || defined (SC92F8003B) || defined 
             - (SC92F84Ax) || defined (SC92F74Ax) || defined  (SC92F83Ax) || defined (SC92F73Ax) \
 147          || defined (SC92F7003) || defined (SC92F740x) || defined (SC92FWxx) || defined (SC93F743x) || defined (SC9
             -3F833x) || defined (SC93F843x) || defined (SC92F848x) || defined (SC92F748x)|| defined (SC92F859x) \
 148          || defined (SC92F759x) || defined(SC92F84Hx) || defined(SC92F83Hx)|| defined(SC92F827x)|| defined(SC92F837
             -x) ||defined(SC92F841x) || defined(SC92F741x) || defined(SC92R511x) || defined(SC92R342)
              void SSIInterrupt()     interrupt 7   
              {
                  /*SSI_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSIInterrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSIInterrupt Flag Clear end*/   
              }
              #elif defined (SC92F742x) || defined (SC92F7490)
              void SSI1Interrupt()    interrupt 7   
              {
                  /*SSI1_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI1_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSI1Interrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI1Interrupt Flag Clear end*/    
              }
              #elif !defined (SC92F730x) && !defined (SC92F730x_2) && !defined (SC92F720x) && !defined (SC92F725X) && !d
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 4   

             -efined (SC92F735X) && !defined (SC92F732X)
 173          void USCI0Interrupt()     interrupt 7   
 174          {
 175   1          /*USCI0_it write here begin*/
 176   1          //Forbid editing areas between the labels !!!
 177   1          /*USCI0_it write here*/
 178   1          /*<Generated by EasyCodeCube begin>*/
 179   1          /*<Generated by EasyCodeCube end>*/
 180   1          /*USCI0Interrupt Flag Clear begin*/
 181   1          //Forbid editing areas between the labels !!!
 182   1          /*USCI0Interrupt Flag Clear end*/   
 183   1      }
 184          #endif
 185          void PWMInterrupt()     interrupt 8
 186          {
 187   1          /*PWM_it write here begin*/
 188   1          //Forbid editing areas between the labels !!!
 189   1          /*PWM_it write here*/
 190   1          /*<Generated by EasyCodeCube begin>*/
 191   1          /*<Generated by EasyCodeCube end>*/
 192   1          /*PWMInterrupt Flag Clear begin*/
 193   1          //Forbid editing areas between the labels !!!
 194   1          /*PWMInterrupt Flag Clear end*/   
 195   1      }
 196          #if !defined (TK_USE_BTM)
 197          void BTMInterrupt()     interrupt 9
 198          {
 199   1          /*BTM_it write here begin*/
 200   1          //Forbid editing areas between the labels !!!
 201   1          /*BTM_it write here*/
 202   1          /*<Generated by EasyCodeCube begin>*/
 203   1          /*<Generated by EasyCodeCube end>*/
 204   1          /*BTMInterrupt Flag Clear begin*/
 205   1          //Forbid editing areas between the labels !!!
 206   1          /*BTMInterrupt Flag Clear end*/   
 207   1      }
 208          #endif
 209          void INT2Interrupt()    interrupt 10
 210          { 
 211   1          /*INT2_it write here begin*/
 212   1          //Forbid editing areas between the labels !!!
 213   1          /*INT2_it write here*/
 214   1          /*<Generated by EasyCodeCube begin>*/
 215   1          /*<Generated by EasyCodeCube end>*/
 216   1          /*INT2Interrupt Flag Clear begin*/
 217   1          //Forbid editing areas between the labels !!!
 218   1          /*INT2Interrupt Flag Clear end*/    
 219   1      }
 220          #if defined (SC92F854x) || defined (SC92F754x) || defined  (SC92F844xB) || defined (SC92F744xB)||defined  
             -(SC92F84Ax_2) || defined (SC92F74Ax_2)|| defined (SC92F859x) || defined (SC92F759x) || defined (SC92R511x)\
 221          || defined (SC92FWxx) || defined (SC95F8x1x) || defined (SC95F7x1x) || defined (SC95FWxx) || defined (SC95
             -F8x3x) || defined (SC95F7x3x) || defined (SC95F8x6x) || defined (SC95F7x6x) || defined (SC95F8x1xB) ||defined ( SC95F7x1
             -xB)\
 222          || defined (SC95R751) || defined (SC95F7610B) || defined (SC95F7619B) || defined (SC95R602) || defined (SC
             -95R605) || defined (SC95F8x7x) || defined (SC95F7x7x) 
 223          
 224          #define CMP_LEN 12
 225          void ACMPInterrupt()    interrupt 12
 226          {
 227   1          /*ACMP_it write here begin*/
 228   1          //Forbid editing areas between the labels !!!
 229   1          /*ACMP_it write here*/
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 5   

 230   1          /*<Generated by EasyCodeCube begin>*/
 231   1          /*<Generated by EasyCodeCube end>*/
 232   1          /*ACMPInterrupt Flag Clear begin*/
 233   1          //Forbid editing areas between the labels !!!
 234   1          /*ACMPInterrupt Flag Clear end*/  
 235   1          
 236   1          CMPCON &= ~0x40;  //清中断标志位  
 237   1          if(CMPCON&0x20)     //判断模拟器输出状态
 238   1          {
 239   2              EA =0;
 240   2              GPIO_Init(GPIO0, GPIO_PIN_2,GPIO_MODE_IN_HI);
 241   2              GPIO_Init(GPIO0, GPIO_PIN_4,GPIO_MODE_IN_HI);
 242   2              GPIO_Init(GPIO4, GPIO_PIN_3,GPIO_MODE_IN_HI);
 243   2              GPIO_Init(GPIO4, GPIO_PIN_2,GPIO_MODE_IN_HI);
 244   2              GPIO_Init(GPIO4, GPIO_PIN_1,GPIO_MODE_IN_HI);
 245   2              GPIO_Init(GPIO3, GPIO_PIN_7,GPIO_MODE_IN_HI);
 246   2              GPIO_Init(GPIO3, GPIO_PIN_5,GPIO_MODE_IN_HI);
 247   2              GPIO_Init(GPIO3, GPIO_PIN_4,GPIO_MODE_IN_HI);
 248   2              GPIO_Init(GPIO3, GPIO_PIN_3,GPIO_MODE_IN_HI);
 249   2              GPIO_Init(GPIO3, GPIO_PIN_2,GPIO_MODE_IN_HI);
 250   2              GPIO_Init(GPIO3, GPIO_PIN_1,GPIO_MODE_IN_HI);
 251   2              GPIO_Init(GPIO1, GPIO_PIN_0,GPIO_MODE_IN_HI);
 252   2              GPIO_Init(GPIO1, GPIO_PIN_2,GPIO_MODE_IN_HI);
 253   2              GPIO_Init(GPIO1, GPIO_PIN_4,GPIO_MODE_IN_HI);
 254   2              GPIO_Init(GPIO2, GPIO_PIN_5,GPIO_MODE_IN_HI);
 255   2              GPIO_Init(GPIO2, GPIO_PIN_6,GPIO_MODE_IN_HI);
 256   2              GPIO_Init(GPIO2, GPIO_PIN_7,GPIO_MODE_IN_HI);
 257   2              GPIO_Init(GPIO0, GPIO_PIN_0,GPIO_MODE_IN_HI);
 258   2              GPIO_Init(GPIO0, GPIO_PIN_1,GPIO_MODE_IN_HI);
 259   2              
 260   2              WriteTempEeprom();
 261   2              EA =1;      
 262   2          }
 263   1          
 264   1          //LED4_R =1;
 265   1      }
 266          #endif
 267          
 268          #if defined (SC92L853x) || defined (SC92L753x) || defined(SC92F84Hx) || defined(SC92F83Hx) || defined( SC9
             -5F8x1x) || defined(SC95F7x1x) || defined(SC95F8x2x) || defined(SC95F7x2x) ||defined(SC95FWxx) \
 269          || defined(SC95F8x3x) || defined(SC95F7x3x) || defined(SC95F8x6x) || defined(SC95F7x6x) || defined(SC95F8x
             -1xB) || defined(SC95F7x1xB) || defined(SC95R751) || defined(SC95F7610B) || defined(SC95F7619B) \
 270          || defined(SC95FS52x) || defined(SC95R602) || defined(SC95R605) || defined(SC95F8x7x) || defined(SC95F7x7x
             -)
 271          void Timer3Interrupt()    interrupt 13
 272          {
 273   1          /*TIM3_it write here begin*/
 274   1          //Forbid editing areas between the labels !!!
 275   1          /*TIM3_it write here*/
 276   1          /*<Generated by EasyCodeCube begin>*/
 277   1          /*<Generated by EasyCodeCube end>*/
 278   1          /*Timer3Interrupt Flag Clear begin*/
 279   1          //Forbid editing areas between the labels !!!
 280   1          /*Timer3Interrupt Flag Clear end*/  
 281   1      }
 282          void Timer4Interrupt()    interrupt 14
 283          {
 284   1          /*TIM4_it write here begin*/
 285   1          //Forbid editing areas between the labels !!!
 286   1          /*TIM4_it write here*/
 287   1          /*<Generated by EasyCodeCube begin>*/
 288   1          /*<Generated by EasyCodeCube end>*/
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 6   

 289   1          /*Timer4Interrupt Flag Clear begin*/
 290   1          //Forbid editing areas between the labels !!!
 291   1          /*Timer4Interrupt Flag Clear end*/  
 292   1      }
 293          #if  !defined (SC92F84Hx) && !defined (SC92F83Hx)
 294          
 295          void USCI1Interrupt()   interrupt 15    
 296          { 
 297   1          /*USCI1_it write here begin*/
 298   1          //Forbid editing areas between the labels !!!
 299   1          /*USCI1_it write here*/
 300   1          /*<Generated by EasyCodeCube begin>*/
 301   1          /*<Generated by EasyCodeCube end>*/
 302   1          /*USCI1Interrupt Flag Clear begin*/
 303   1          //Forbid editing areas between the labels !!!
 304   1          /*USCI1Interrupt Flag Clear end*/   
 305   1      }
 306          void USCI2Interrupt()   interrupt 16    
 307          { 
 308   1          /*USCI2_it write here begin*/
 309   1          //Forbid editing areas between the labels !!!
 310   1          OTA_UARTHANDLE();
 311   1          /*USCI2_it write here*/
 312   1          /*<Generated by EasyCodeCube begin>*/
 313   1          /*<Generated by EasyCodeCube end>*/
 314   1          /*USCI2Interrupt Flag Clear begin*/
 315   1          //Forbid editing areas between the labels !!!
 316   1          USCI2_ClearFlag(USCI2_UART_FLAG_RI);
 317   1          USCI2_ClearFlag(USCI2_UART_FLAG_TI);
 318   1          
 319   1          /*USCI2Interrupt Flag Clear end*/   
 320   1      }
 321          #endif
 322          
 323          #if  defined (SC92L853x) || defined (SC92L753x)
              void LPDInterrupt()   interrupt 22    
              {
                  /*LPD_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*LPD_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*LPDInterrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*LPDInterrupt Flag Clear end*/   
              }
              #endif
 336          #endif
 337          
 338          #if  defined (SC95F8x3x) || defined (SC95F7x3x) || defined (SC95F7619B) || defined ( SC95F8x6x) || defined
             - (SC95F7x6x) || defined (SC95F8x1xB)|| defined (SC95F7x1xB) || defined (SC95R751)
 339          void USCI3Interrupt()   interrupt 17    
 340          {
 341   1          /*USCI3_it write here begin*/
 342   1          //Forbid editing areas between the labels !!!
 343   1          /*USCI3_it write here*/
 344   1          /*<Generated by EasyCodeCube begin>*/
 345   1          /*<Generated by EasyCodeCube end>*/
 346   1          /*USCI3Interrupt Flag Clear begin*/
 347   1          //Forbid editing areas between the labels !!!
 348   1          /*USCI3Interrupt Flag Clear end*/   
 349   1      }
C51 COMPILER V9.59.0.0   SC_IT                                                             04/02/2024 20:37:52 PAGE 7   

 350          #if !defined (SC95R751)
 351          void USCI4Interrupt()   interrupt 18    
 352          {
 353   1          /*USCI4_it write here begin*/
 354   1          //Forbid editing areas between the labels !!!
 355   1          /*USCI4_it write here*/
 356   1          /*<Generated by EasyCodeCube begin>*/
 357   1          /*<Generated by EasyCodeCube end>*/
 358   1          /*USCI4Interrupt Flag Clear begin*/
 359   1          //Forbid editing areas between the labels !!!
 360   1          /*USCI4Interrupt Flag Clear end*/   
 361   1      }
 362          #endif
 363          #if defined (SC95F8x6x) || defined (SC95F7x6x) || defined (SC95F8x1xB) || defined (SC95F7x1xB) 
 364          void USCI5Interrupt()   interrupt 19    
 365          {
 366   1          /*USCI5_it write here begin*/
 367   1          //Forbid editing areas between the labels !!!
 368   1          /*USCI5_it write here*/
 369   1          /*<Generated by EasyCodeCube begin>*/
 370   1          /*<Generated by EasyCodeCube end>*/
 371   1          /*USCI5Interrupt Flag Clear begin*/
 372   1          //Forbid editing areas between the labels !!!
 373   1          /*USCI5Interrupt Flag Clear end*/   
 374   1      }
 375          #endif
 376          
 377          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    777    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
