C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE SC_IT
OBJECT MODULE PLACED IN ..\Output\SC_it.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\User\SC_it.c LARGE OMF2 OPTIMIZE(0,SIZE) BROWSE INTVECTOR(0X1000) INC
                    -DIR(..\FWLib\SC95F_Lib\inc;..\User;..\IOT_DRIVER\XIAOMI;..\Drivers;..\Drivers\TKDriver\C;..\List\..\Apps;..\Apps) DEFINE
                    -(SC95F8x1xB) DEBUG PRINT(..\List\SC_it.lst) TABS(2) OBJECT(..\Output\SC_it.obj)

line level    source

   1          //************************************************************
   2          //  Copyright (c)   
   3          //  FileName    : SC_it.c
   4          //  Function    : Interrupt Service Routine
   5          //  Instructions  :  
   6          //  Date          : 2022/03/03
   7          //  Version     : V1.0002
   8          //*************************************************************
   9          /********************Includes************************************************************************/
  10          #include "SC_it.h"
  11          #include "..\Drivers\SCDriver_list.h"
  12          #include "HeadFiles\SC_itExtern.h"
  13          #include "..\Apps\includeall.h"
  14          /**************************************Generated by EasyCodeCube*************************************/
  15          //Forbid editing areas between the labels !!!
  16          
  17          /*************************************.Generated by EasyCodeCube.************************************/
  18          void INT0Interrupt()    interrupt 0       
  19          {
  20   1          TCON &= 0XFD;//Clear interrupt flag bit
  21   1          /*INT0_it write here begin*/
  22   1          //Forbid editing areas between the labels !!!
  23   1          /*INT0_it write here*/
  24   1          /*<Generated by EasyCodeCube begin>*/
  25   1          /*<Generated by EasyCodeCube end>*/
  26   1          /*INT0Interrupt Flag Clear begin*/
  27   1          //Forbid editing areas between the labels !!!
  28   1          /*INT0Interrupt Flag Clear end*/
  29   1      }
  30          void Timer0Interrupt()    interrupt 1        
  31          {
  32   1          /*TIM0_it write here begin*/
  33   1          //Forbid editing areas between the labels !!!
  34   1          TIM0_Mode1SetReloadCounter(33536);
  35   1          /*TIM0_it write here*/
  36   1          /*<Generated by EasyCodeCube begin>*/
  37   1          /*<UserCodeStart>*//*<SinOne-Tag><15>*/
  38   1          /***User program***/
  39   1          Systime_Count();
  40   1          RDSystickProcess();
*** WARNING C206 IN LINE 40 OF ..\User\SC_it.c: 'ADCollectProcess': missing function-prototype
  41   1          /*<UserCodeEnd>*//*<SinOne-Tag><15>*/
  42   1          /*<Generated by EasyCodeCube end>*/
  43   1          /*Timer0Interrupt Flag Clear begin*/
  44   1          //Forbid editing areas between the labels !!!
  45   1          /*Timer0Interrupt Flag Clear end*/    
  46   1      }
  47          void INT1Interrupt()    interrupt 2   
  48          {
  49   1          TCON &= 0XF7;//Clear interrupt flag bit
  50   1          /*INT1_it write here begin*/
  51   1          //Forbid editing areas between the labels !!!
  52   1          /*INT1_it write here*/
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 2   

  53   1          /*<Generated by EasyCodeCube begin>*/
  54   1          /*<Generated by EasyCodeCube end>*/
  55   1          /*INT1Interrupt Flag Clear begin*/
  56   1          //Forbid editing areas between the labels !!!
  57   1          /*INT1Interrupt Flag Clear end*/          
  58   1      }
  59          void Timer1Interrupt()    interrupt 3   
  60          {
  61   1          /*TIM1_it write here begin*/
  62   1          //Forbid editing areas between the labels !!!
  63   1          /*TIM1_it write here*/
  64   1          /*<Generated by EasyCodeCube begin>*/
  65   1          /*<Generated by EasyCodeCube end>*/
  66   1          /*Timer1Interrupt Flag Clear begin*/
  67   1          //Forbid editing areas between the labels !!!
  68   1          /*Timer1Interrupt Flag Clear end*/    
  69   1      }
  70          #if defined (SC92F742x) || defined (SC92F7490)
              void SSI0Interrupt()    interrupt 4   
              {
                  /*SSI0_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI0_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSI0Interrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI0Interrupt Flag Clear end*/    
              }
              #elif  !defined ( SC92F827X)  &&  !defined (SC92F837X)
  83          #define        UART0_TX_LEN 7
  84          extern void    RDUART0_RcvByte(void);
  85          void UART0Interrupt()   interrupt 4   
  86          {
  87   1          static  u8 uartDataLen = 1;
  88   1          /*UART0_it write here begin*/
  89   1          //Forbid editing areas between the labels !!!
  90   1          /*UART0_it write here*/
  91   1          /*<Generated by EasyCodeCube begin>*/
  92   1          /*<Generated by EasyCodeCube end>*/
  93   1          /*UART0Interrupt Flag Clear begin*/
  94   1          //Forbid editing areas between the labels !!!
  95   1        
  96   1          if(TI)
  97   1          {
  98   2               UART0_ClearFlag(UART0_FLAG_TI);
  99   2               if(uartDataLen < UART0_TX_LEN)
 100   2               {
 101   3                    uartDataLen++;
 102   3                    SBUF = gSendData[uartDataLen].all;
 103   3               }
 104   2               else
 105   2               {
 106   3                  uartDataLen = 0;
 107   3               }
 108   2          }
 109   1          if(RI)
 110   1          {
 111   2              UART0_ClearFlag(UART0_FLAG_RI);
 112   2              RDUART0_RcvByte();
 113   2          }
 114   1          
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 3   

 115   1          
 116   1          /*UART0Interrupt Flag Clear end*/   
 117   1      }
 118          #endif
 119          void Timer2Interrupt()    interrupt 5   
 120          {
 121   1          /*TIM2_it write here begin*/
 122   1          //Forbid editing areas between the labels !!!
 123   1          /*TIM2_it write here*/
 124   1          /*<Generated by EasyCodeCube begin>*/
 125   1          /*<Generated by EasyCodeCube end>*/
 126   1          /*Timer2Interrupt Flag Clear begin*/
 127   1          //Forbid editing areas between the labels !!!
 128   1          /*Timer2Interrupt Flag Clear end*/    
 129   1      }
 130          void ADCInterrupt()     interrupt 6   
 131          {
 132   1          /*ADC_it write here begin*/
 133   1          //Forbid editing areas between the labels !!!
 134   1          /*ADC_it write here*/
 135   1          /*<Generated by EasyCodeCube begin>*/
 136   1          /*<Generated by EasyCodeCube end>*/
 137   1          /*ADCInterrupt Flag Clear begin*/
 138   1          //Forbid editing areas between the labels !!!
 139   1          ADC_ClearFlag();
 140   1          
 141   1          /*ADCInterrupt Flag Clear end*/   
 142   1      }
 143          #if defined (SC92F854x) || defined (SC92F754x) ||defined  (SC92F844xB) || defined (SC92F744xB)||defined  (
             -SC92F84Ax_2) || defined (SC92F74Ax_2)|| defined (SC92F846xB) || defined (SC92F746xB)\
 144          || defined (SC92F836xB) || defined (SC92F736xB) || defined (SC92F8003) || defined (SC92F8003B) || defined 
             - (SC92F84Ax) || defined (SC92F74Ax) || defined  (SC92F83Ax) || defined (SC92F73Ax) \
 145          || defined (SC92F7003) || defined (SC92F740x) || defined (SC92FWxx) || defined (SC93F743x) || defined (SC9
             -3F833x) || defined (SC93F843x) || defined (SC92F848x) || defined (SC92F748x)|| defined (SC92F859x) \
 146          || defined (SC92F759x) || defined(SC92F84Hx) || defined(SC92F83Hx)|| defined(SC92F827x)|| defined(SC92F837
             -x) ||defined(SC92F841x) || defined(SC92F741x) || defined(SC92R511x) || defined(SC92R342)
              void SSIInterrupt()     interrupt 7   
              {
                  /*SSI_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSIInterrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSIInterrupt Flag Clear end*/   
              }
              #elif defined (SC92F742x) || defined (SC92F7490)
              void SSI1Interrupt()    interrupt 7   
              {
                  /*SSI1_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI1_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*SSI1Interrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*SSI1Interrupt Flag Clear end*/    
              }
              #elif !defined (SC92F730x) && !defined (SC92F730x_2) && !defined (SC92F720x) && !defined (SC92F725X) && !d
             -efined (SC92F735X) && !defined (SC92F732X)
 171          void USCI0Interrupt()     interrupt 7   
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 4   

 172          {
 173   1          /*USCI0_it write here begin*/
 174   1          //Forbid editing areas between the labels !!!
 175   1          /*USCI0_it write here*/
 176   1          /*<Generated by EasyCodeCube begin>*/
 177   1          /*<Generated by EasyCodeCube end>*/
 178   1          /*USCI0Interrupt Flag Clear begin*/
 179   1          //Forbid editing areas between the labels !!!
 180   1          /*USCI0Interrupt Flag Clear end*/   
 181   1      }
 182          #endif
 183          void PWMInterrupt()     interrupt 8
 184          {
 185   1          /*PWM_it write here begin*/
 186   1          //Forbid editing areas between the labels !!!
 187   1          /*PWM_it write here*/
 188   1          /*<Generated by EasyCodeCube begin>*/
 189   1          /*<Generated by EasyCodeCube end>*/
 190   1          /*PWMInterrupt Flag Clear begin*/
 191   1          //Forbid editing areas between the labels !!!
 192   1          /*PWMInterrupt Flag Clear end*/   
 193   1      }
 194          #if !defined (TK_USE_BTM)
 195          void BTMInterrupt()     interrupt 9
 196          {
 197   1          /*BTM_it write here begin*/
 198   1          //Forbid editing areas between the labels !!!
 199   1          /*BTM_it write here*/
 200   1          /*<Generated by EasyCodeCube begin>*/
 201   1          /*<Generated by EasyCodeCube end>*/
 202   1          /*BTMInterrupt Flag Clear begin*/
 203   1          //Forbid editing areas between the labels !!!
 204   1          /*BTMInterrupt Flag Clear end*/   
 205   1      }
 206          #endif
 207          void INT2Interrupt()    interrupt 10
 208          { 
 209   1          /*INT2_it write here begin*/
 210   1          //Forbid editing areas between the labels !!!
 211   1          /*INT2_it write here*/
 212   1          /*<Generated by EasyCodeCube begin>*/
 213   1          /*<Generated by EasyCodeCube end>*/
 214   1          /*INT2Interrupt Flag Clear begin*/
 215   1          //Forbid editing areas between the labels !!!
 216   1          /*INT2Interrupt Flag Clear end*/    
 217   1      }
 218          #if defined (SC92F854x) || defined (SC92F754x) || defined  (SC92F844xB) || defined (SC92F744xB)||defined  
             -(SC92F84Ax_2) || defined (SC92F74Ax_2)|| defined (SC92F859x) || defined (SC92F759x) || defined (SC92R511x)\
 219          || defined (SC92FWxx) || defined (SC95F8x1x) || defined (SC95F7x1x) || defined (SC95FWxx) || defined (SC95
             -F8x3x) || defined (SC95F7x3x) || defined (SC95F8x6x) || defined (SC95F7x6x) || defined (SC95F8x1xB) ||defined ( SC95F7x1
             -xB)\
 220          || defined (SC95R751) || defined (SC95F7610B) || defined (SC95F7619B) || defined (SC95R602) || defined (SC
             -95R605) || defined (SC95F8x7x) || defined (SC95F7x7x) 
 221          
 222          #define CMP_LEN 12
 223          void ACMPInterrupt()    interrupt 12
 224          {
 225   1          /*ACMP_it write here begin*/
 226   1          //Forbid editing areas between the labels !!!
 227   1          /*ACMP_it write here*/
 228   1          /*<Generated by EasyCodeCube begin>*/
 229   1          /*<Generated by EasyCodeCube end>*/
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 5   

 230   1          /*ACMPInterrupt Flag Clear begin*/
 231   1          //Forbid editing areas between the labels !!!
 232   1          /*ACMPInterrupt Flag Clear end*/  
 233   1          
 234   1          CMPCON &= ~0x40;  //清中断标志位  
 235   1          if(CMPCON&0x20)     //判断模拟器输出状态
 236   1          {
 237   2              EA =0;
 238   2              GPIO_Init(GPIO0, GPIO_PIN_2,GPIO_MODE_IN_HI);
 239   2              GPIO_Init(GPIO0, GPIO_PIN_4,GPIO_MODE_IN_HI);
 240   2              GPIO_Init(GPIO4, GPIO_PIN_3,GPIO_MODE_IN_HI);
 241   2              GPIO_Init(GPIO4, GPIO_PIN_2,GPIO_MODE_IN_HI);
 242   2              GPIO_Init(GPIO4, GPIO_PIN_1,GPIO_MODE_IN_HI);
 243   2              GPIO_Init(GPIO3, GPIO_PIN_7,GPIO_MODE_IN_HI);
 244   2              GPIO_Init(GPIO3, GPIO_PIN_5,GPIO_MODE_IN_HI);
 245   2              GPIO_Init(GPIO3, GPIO_PIN_4,GPIO_MODE_IN_HI);
 246   2              GPIO_Init(GPIO3, GPIO_PIN_3,GPIO_MODE_IN_HI);
 247   2              GPIO_Init(GPIO3, GPIO_PIN_2,GPIO_MODE_IN_HI);
 248   2              GPIO_Init(GPIO3, GPIO_PIN_1,GPIO_MODE_IN_HI);
 249   2              GPIO_Init(GPIO1, GPIO_PIN_0,GPIO_MODE_IN_HI);
 250   2              GPIO_Init(GPIO1, GPIO_PIN_2,GPIO_MODE_IN_HI);
 251   2              GPIO_Init(GPIO1, GPIO_PIN_4,GPIO_MODE_IN_HI);
 252   2              GPIO_Init(GPIO2, GPIO_PIN_5,GPIO_MODE_IN_HI);
 253   2              GPIO_Init(GPIO2, GPIO_PIN_6,GPIO_MODE_IN_HI);
 254   2              GPIO_Init(GPIO2, GPIO_PIN_7,GPIO_MODE_IN_HI);
 255   2              GPIO_Init(GPIO0, GPIO_PIN_0,GPIO_MODE_IN_HI);
 256   2              GPIO_Init(GPIO0, GPIO_PIN_1,GPIO_MODE_IN_HI);
 257   2              
 258   2              WriteTempEeprom();
 259   2              EA =1;      
 260   2          }
 261   1          
 262   1          //LED4_R =1;
 263   1      }
 264          #endif
 265          
 266          #if defined (SC92L853x) || defined (SC92L753x) || defined(SC92F84Hx) || defined(SC92F83Hx) || defined( SC9
             -5F8x1x) || defined(SC95F7x1x) || defined(SC95F8x2x) || defined(SC95F7x2x) ||defined(SC95FWxx) \
 267          || defined(SC95F8x3x) || defined(SC95F7x3x) || defined(SC95F8x6x) || defined(SC95F7x6x) || defined(SC95F8x
             -1xB) || defined(SC95F7x1xB) || defined(SC95R751) || defined(SC95F7610B) || defined(SC95F7619B) \
 268          || defined(SC95FS52x) || defined(SC95R602) || defined(SC95R605) || defined(SC95F8x7x) || defined(SC95F7x7x
             -)
 269          void Timer3Interrupt()    interrupt 13
 270          {
 271   1          /*TIM3_it write here begin*/
 272   1          //Forbid editing areas between the labels !!!
 273   1          /*TIM3_it write here*/
 274   1          /*<Generated by EasyCodeCube begin>*/
 275   1          /*<Generated by EasyCodeCube end>*/
 276   1          /*Timer3Interrupt Flag Clear begin*/
 277   1          //Forbid editing areas between the labels !!!
 278   1          /*Timer3Interrupt Flag Clear end*/  
 279   1      }
 280          void Timer4Interrupt()    interrupt 14
 281          {
 282   1          /*TIM4_it write here begin*/
 283   1          //Forbid editing areas between the labels !!!
 284   1          /*TIM4_it write here*/
 285   1          /*<Generated by EasyCodeCube begin>*/
 286   1          /*<Generated by EasyCodeCube end>*/
 287   1          /*Timer4Interrupt Flag Clear begin*/
 288   1          //Forbid editing areas between the labels !!!
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 6   

 289   1          /*Timer4Interrupt Flag Clear end*/  
 290   1      }
 291          #if  !defined (SC92F84Hx) && !defined (SC92F83Hx)
 292          
 293          void USCI1Interrupt()   interrupt 15    
 294          { 
 295   1          /*USCI1_it write here begin*/
 296   1          //Forbid editing areas between the labels !!!
 297   1          /*USCI1_it write here*/
 298   1          /*<Generated by EasyCodeCube begin>*/
 299   1          /*<Generated by EasyCodeCube end>*/
 300   1          /*USCI1Interrupt Flag Clear begin*/
 301   1          //Forbid editing areas between the labels !!!
 302   1          /*USCI1Interrupt Flag Clear end*/   
 303   1      }
 304          void USCI2Interrupt()   interrupt 16    
 305          { 
 306   1          /*USCI2_it write here begin*/
 307   1          //Forbid editing areas between the labels !!!
 308   1          OTA_UARTHANDLE();
 309   1          /*USCI2_it write here*/
 310   1          /*<Generated by EasyCodeCube begin>*/
 311   1          /*<Generated by EasyCodeCube end>*/
 312   1          /*USCI2Interrupt Flag Clear begin*/
 313   1          //Forbid editing areas between the labels !!!
 314   1          USCI2_ClearFlag(USCI2_UART_FLAG_RI);
 315   1          USCI2_ClearFlag(USCI2_UART_FLAG_TI);
 316   1          
 317   1          /*USCI2Interrupt Flag Clear end*/   
 318   1      }
 319          #endif
 320          
 321          #if  defined (SC92L853x) || defined (SC92L753x)
              void LPDInterrupt()   interrupt 22    
              {
                  /*LPD_it write here begin*/
                  //Forbid editing areas between the labels !!!
                  /*LPD_it write here*/
                  /*<Generated by EasyCodeCube begin>*/
                  /*<Generated by EasyCodeCube end>*/
                  /*LPDInterrupt Flag Clear begin*/
                  //Forbid editing areas between the labels !!!
                  /*LPDInterrupt Flag Clear end*/   
              }
              #endif
 334          #endif
 335          
 336          #if  defined (SC95F8x3x) || defined (SC95F7x3x) || defined (SC95F7619B) || defined ( SC95F8x6x) || defined
             - (SC95F7x6x) || defined (SC95F8x1xB)|| defined (SC95F7x1xB) || defined (SC95R751)
 337          void USCI3Interrupt()   interrupt 17    
 338          {
 339   1          /*USCI3_it write here begin*/
 340   1          //Forbid editing areas between the labels !!!
 341   1          /*USCI3_it write here*/
 342   1          /*<Generated by EasyCodeCube begin>*/
 343   1          /*<Generated by EasyCodeCube end>*/
 344   1          /*USCI3Interrupt Flag Clear begin*/
 345   1          //Forbid editing areas between the labels !!!
 346   1          /*USCI3Interrupt Flag Clear end*/   
 347   1      }
 348          #if !defined (SC95R751)
 349          void USCI4Interrupt()   interrupt 18    
C51 COMPILER V9.59.0.0   SC_IT                                                             03/27/2024 21:09:23 PAGE 7   

 350          {
 351   1          /*USCI4_it write here begin*/
 352   1          //Forbid editing areas between the labels !!!
 353   1          /*USCI4_it write here*/
 354   1          /*<Generated by EasyCodeCube begin>*/
 355   1          /*<Generated by EasyCodeCube end>*/
 356   1          /*USCI4Interrupt Flag Clear begin*/
 357   1          //Forbid editing areas between the labels !!!
 358   1          /*USCI4Interrupt Flag Clear end*/   
 359   1      }
 360          #endif
 361          #if defined (SC95F8x6x) || defined (SC95F7x6x) || defined (SC95F8x1xB) || defined (SC95F7x1xB) 
 362          void USCI5Interrupt()   interrupt 19    
 363          {
 364   1          /*USCI5_it write here begin*/
 365   1          //Forbid editing areas between the labels !!!
 366   1          /*USCI5_it write here*/
 367   1          /*<Generated by EasyCodeCube begin>*/
 368   1          /*<Generated by EasyCodeCube end>*/
 369   1          /*USCI5Interrupt Flag Clear begin*/
 370   1          //Forbid editing areas between the labels !!!
 371   1          /*USCI5Interrupt Flag Clear end*/   
 372   1      }
 373          #endif
 374          
 375          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    851    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
